:favicon: ./images/favicon/favicon.png

= image:images/phonebook_logo_128x128.png[Arc-E-Tect Phonebook Logo] Arc-E-Tect Phonebook API Guide
Arc-E-Tect;
:doctype: book
:icons: font
:source-highlighter: highlightjs
:toc: left
:toclevels: 3
:sectlinks:

[[overview]]
= Overview - Arc-E-Tect Phonebook
This is the Arc-E-Tect Phonebook application, it is an _API-only_ application, which means that the application has no user interface, instead, all information and functionality is exposed through an API. The provided API of the Arc-E-Tect Phonebook is RESTful and exposed through http endpoints.

This application is used to explain how to develop API-First, or API-Only applications in such a way that it is inherrently secure and of high quality. This process of software engineering is described on the https://arc-e-tect.blog/subscribe[Arc-E-Tect blog]. You can read the first episode of this course through this link: https://medium.com/codex/software-engineering-done-right-de312acf5c0?sk=5ed46509dc43749970dc94649bbd0855[Software Engineering done Right]. The link is a special link and will not count towards your two free articles on Medium.com.


[[resources-index]]
== Index

The index provides the entry point into the service. A `GET` request is used to access the index. Access the index at: link:http://localhost:9090[Arc-E-Tect Phonebook Service,window=_blank].

[[resources-index-access]]
[[resources-endpoints-get]]
=== GET all endpoints

A `GET` request is used to retrieve the endpoints of the Arc-E-Tect Phonebook application.

==== Request structure

*Example Request*
include::{snippets}/get-all-endpoints/http-request.adoc[]
==== Response structure
.Response links, contained in the __links_ section of the response
include::{snippets}/get-all-endpoints/links.adoc[]

*Example Response*

include::{snippets}/get-all-endpoints/http-response.adoc[]

==== Commandline Invocations

*CURL request*
include::{snippets}/get-all-endpoints/curl-request.adoc[]

*HTTPie request*
include::{snippets}/get-all-endpoints/httpie-request.adoc[]

== Contacts

[[resources-contacts-get]]
=== GET all Contacts

To retrieve all contacts stored in the Arc-E-Tect Phonebook, call the `GET` on the Contacts endpoint.

==== Request structure

*Example Request*

When the phonebook is empty, no content is returned. This is indicated with a http status https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/204[204 - No Content]. In case there are Contacts stored in the phonebook, the response contains an array of Contacts and the http status is https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/200[200 - OK].

When there are items in the phonebook, the response contains an array of Contacts and the response contains http status https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/200[200 - OK].

include::{snippets}/get-all-contacts/http-request.adoc[]

==== Response structure
*Example Response*
include::{snippets}/get-all-contacts/http-response.adoc[]

include::{snippets}/get-all-contacts-when-phonebook-is-empty/http-response.adoc[]

.Response links, contained in the __links_ section of the response
include::{snippets}/get-all-contacts/links.adoc[]

include::{snippets}/get-all-contacts/response-fields.adoc[]

==== Swagger
link:../swagger-ui-Arc_E_Tect_Phonebook/index.html#/contacts/get-all-contacts[Get All Contacts]

==== Commandline Invocations

*CURL request*
include::{snippets}/get-all-contacts/curl-request.adoc[]

*HTTPie request*
include::{snippets}/get-all-contacts/httpie-request.adoc[]

[[resources-contacts-post]]
=== POST new Contact

To store a new contact in the Arc-E-Tect Phonebook, call the `POST` on the Contacts endpoint.

==== Request structure

*Example Request*

When the Contact is not yet listed, a new Contact is create in the Arc-E-Tect Phonebook with the provided information. In case an id is provided, that ID will be used, in case no ID is used, a new unique ID will be generated. When a new Contact is stored in the phonebook, it is indicated with a http status https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/201[201 - Created] and the newly created Contact is returned.

When the Contact is already listed in the Arc-E-Tect Phonebook, the provided Contact is not stored as the phonebook does not allow for duplicates. The response is of http status https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/409[409 - Conflict].

include::{snippets}/post-new-contact/http-request.adoc[]

==== Response structure
*Example Response*
include::{snippets}/post-new-contact/http-response.adoc[]

include::{snippets}/post-existent-contact/http-response.adoc[]

.Response links, contained in the __links_ section of the response
include::{snippets}/post-new-contact/links.adoc[]

include::{snippets}/post-new-contact/response-fields.adoc[]

==== Swagger
link:../swagger-ui-Arc_E_Tect_Phonebook/index.html#/contacts/post-new-contact[Post New Contact]

==== Commandline Invocations

*CURL request*
include::{snippets}/post-new-contact/curl-request.adoc[]

*HTTPie request*
include::{snippets}/post-new-contact/httpie-request.adoc[]
